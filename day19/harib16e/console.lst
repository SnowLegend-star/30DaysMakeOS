     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_memman_alloc_4k
     8 00000000                                 	EXTERN	_fifo32_init
     9 00000000                                 	EXTERN	_timer_alloc
    10 00000000                                 	EXTERN	_timer_init
    11 00000000                                 	EXTERN	_timer_settime
    12 00000000                                 	EXTERN	_file_ReadFat
    13 00000000                                 	EXTERN	_putfonts8_asc_sht
    14 00000000                                 	EXTERN	_io_cli
    15 00000000                                 	EXTERN	_fifo32_status
    16 00000000                                 	EXTERN	_fifo32_get
    17 00000000                                 	EXTERN	_io_sti
    18 00000000                                 	EXTERN	_boxfill8
    19 00000000                                 	EXTERN	_sheet_refresh
    20 00000000                                 	EXTERN	_sprintf
    21 00000000                                 	EXTERN	_memman_total
    22 00000000                                 	EXTERN	_file_LoadFile
    23 00000000                                 	EXTERN	_memman_free_4k
    24 00000000                                 	EXTERN	_set_segmdesc
    25 00000000                                 	EXTERN	_farjmp
    26 00000000                                 	EXTERN	_task_sleep
    27 00000000                                 [FILE "console.c"]
    28                                          [SECTION .data]
    29 00000000                                 LC0:
    30 00000000 20 55 73 65 20 30 31 7E 32 36   	DB	" Use 01~26 as a~z",0x00
       0000000A 20 61 73 20 61 7E 7A 00 
    31 00000012                                 LC1:
    32 00000012 3E 00                           	DB	">",0x00
    33 00000014                                 LC2:
    34 00000014 20 00                           	DB	" ",0x00
    35 00000016                                 LC3:
    36 00000016 31 33 30 35 31 33 00            	DB	"130513",0x00
    37 0000001D                                 LC4:
    38 0000001D 54 6F 74 61 6C 20 25 64 4D 42   	DB	"Total %dMB",0x00
       00000027 00 
    39 00000028                                 LC5:
    40 00000028 46 72 65 65 20 25 64 6B 42 00   	DB	"Free %dkB",0x00
    41 00000032                                 LC6:
    42 00000032 30 33 31 32 31 39 00            	DB	"031219",0x00
    43 00000039                                 LC7:
    44 00000039 30 34 30 39 31 38 00            	DB	"040918",0x00
    45 00000040                                 LC8:
    46 00000040 66 69 6C 65 6E 61 6D 65 2E 65   	DB	"filename.ext   %7d",0x00
       0000004A 78 74 20 20 20 25 37 64 00 
    47 00000053                                 LC9:
    48 00000053 32 30 32 35 31 36 30 35 00      	DB	"20251605",0x00
    49 0000005C                                 LC10:
    50 0000005C 2E 00                           	DB	".",0x00
    51 0000005E                                 LC11:
    52 0000005E 46 69 6C 65 20 6E 6F 74 20 66   	DB	"File not found.",0x00
       00000068 6F 75 6E 64 2E 00 
    53 0000006E                                 LC12:
    54 0000006E 30 38 31 32 32 30 00            	DB	"081220",0x00
    55 00000075                                 LC13:
    56 00000075 57 72 6F 6E 67 20 63 6F 6D 6D   	DB	"Wrong command!",0x00
       0000007F 61 6E 64 21 00 
    57                                          [SECTION .text]
    58 00000000                                 	GLOBAL	_console_task
    59 00000000                                 _console_task:
    60 00000000 55                              	PUSH	EBP
    61 00000001 89 E5                           	MOV	EBP,ESP
    62 00000003 57                              	PUSH	EDI
    63 00000004 56                              	PUSH	ESI
    64 00000005 BF 00000010                     	MOV	EDI,16
    65 0000000A 53                              	PUSH	EBX
    66 0000000B 81 EC 0000025C                  	SUB	ESP,604
    67 00000011 E8 [00000000]                   	CALL	_task_now
    68 00000016 68 00002D00                     	PUSH	11520
    69 0000001B 68 003C0000                     	PUSH	3932160
    70 00000020 89 85 FFFFFDAC                  	MOV	DWORD [-596+EBP],EAX
    71 00000026 C7 85 FFFFFDA8 0000001C         	MOV	DWORD [-600+EBP],28
    72 00000030 C7 85 FFFFFDA4 FFFFFFFF         	MOV	DWORD [-604+EBP],-1
    73 0000003A E8 [00000000]                   	CALL	_memman_alloc_4k
    74 0000003F 8B 9D FFFFFDAC                  	MOV	EBX,DWORD [-596+EBP]
    75 00000045 FF B5 FFFFFDAC                  	PUSH	DWORD [-596+EBP]
    76 0000004B 89 85 FFFFFD98                  	MOV	DWORD [-616+EBP],EAX
    77 00000051 83 C3 78                        	ADD	EBX,120
    78 00000054 8D 85 FFFFFDF4                  	LEA	EAX,DWORD [-524+EBP]
    79 0000005A 50                              	PUSH	EAX
    80 0000005B 68 00000080                     	PUSH	128
    81 00000060 53                              	PUSH	EBX
    82 00000061 E8 [00000000]                   	CALL	_fifo32_init
    83 00000066 E8 [00000000]                   	CALL	_timer_alloc
    84 0000006B 6A 01                           	PUSH	1
    85 0000006D 53                              	PUSH	EBX
    86 0000006E 50                              	PUSH	EAX
    87 0000006F 89 85 FFFFFDB0                  	MOV	DWORD [-592+EBP],EAX
    88 00000075 E8 [00000000]                   	CALL	_timer_init
    89 0000007A 83 C4 24                        	ADD	ESP,36
    90 0000007D 6A 32                           	PUSH	50
    91 0000007F FF B5 FFFFFDB0                  	PUSH	DWORD [-592+EBP]
    92 00000085 E8 [00000000]                   	CALL	_timer_settime
    93 0000008A 68 00100200                     	PUSH	1049088
    94 0000008F FF B5 FFFFFD98                  	PUSH	DWORD [-616+EBP]
    95 00000095 E8 [00000000]                   	CALL	_file_ReadFat
    96 0000009A 6A 11                           	PUSH	17
    97 0000009C 68 [00000000]                   	PUSH	LC0
    98 000000A1 6A 00                           	PUSH	0
    99 000000A3 6A 07                           	PUSH	7
   100 000000A5 6A 1C                           	PUSH	28
   101 000000A7 6A 08                           	PUSH	8
   102 000000A9 FF 75 08                        	PUSH	DWORD [8+EBP]
   103 000000AC E8 [00000000]                   	CALL	_putfonts8_asc_sht
   104 000000B1 83 C4 2C                        	ADD	ESP,44
   105 000000B4 6A 01                           	PUSH	1
   106 000000B6 68 [00000012]                   	PUSH	LC1
   107 000000BB 6A 00                           	PUSH	0
   108 000000BD 6A 07                           	PUSH	7
   109 000000BF 6A 1C                           	PUSH	28
   110 000000C1 6A 08                           	PUSH	8
   111 000000C3 FF 75 08                        	PUSH	DWORD [8+EBP]
   112 000000C6 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   113 000000CB 83 C4 1C                        	ADD	ESP,28
   114 000000CE                                 L125:
   115 000000CE E8 [00000000]                   	CALL	_io_cli
   116 000000D3 8B B5 FFFFFDAC                  	MOV	ESI,DWORD [-596+EBP]
   117 000000D9 83 C6 78                        	ADD	ESI,120
   118 000000DC 56                              	PUSH	ESI
   119 000000DD E8 [00000000]                   	CALL	_fifo32_status
   120 000000E2 5A                              	POP	EDX
   121 000000E3 85 C0                           	TEST	EAX,EAX
   122 000000E5 0F 84 00000880                  	JE	L146
   123 000000EB 56                              	PUSH	ESI
   124 000000EC E8 [00000000]                   	CALL	_fifo32_get
   125 000000F1 89 C3                           	MOV	EBX,EAX
   126 000000F3 E8 [00000000]                   	CALL	_io_sti
   127 000000F8 58                              	POP	EAX
   128 000000F9 83 FB 01                        	CMP	EBX,1
   129 000000FC 0F 8E 00000807                  	JLE	L147
   130 00000102                                 L7:
   131 00000102 83 FB 02                        	CMP	EBX,2
   132 00000105 0F 84 000007EF                  	JE	L148
   133 0000010B                                 L12:
   134 0000010B 83 FB 03                        	CMP	EBX,3
   135 0000010E 0F 84 000007B0                  	JE	L149
   136 00000114                                 L13:
   137 00000114 8D 83 FFFFFF00                  	LEA	EAX,DWORD [-256+EBX]
   138 0000011A 3D 000000FF                     	CMP	EAX,255
   139 0000011F 77 62                           	JA	L14
   140 00000121 81 FB 00000108                  	CMP	EBX,264
   141 00000127 0F 84 0000076C                  	JE	L150
   142 0000012D 81 FB 0000010A                  	CMP	EBX,266
   143 00000133 0F 84 000000A5                  	JE	L151
   144 00000139 81 FF 000000EF                  	CMP	EDI,239
   145 0000013F 7F 42                           	JG	L14
   146 00000141 89 F8                           	MOV	EAX,EDI
   147 00000143 BA 00000008                     	MOV	EDX,8
   148 00000148 89 D6                           	MOV	ESI,EDX
   149 0000014A 6A 01                           	PUSH	1
   150 0000014C 99                              	CDQ
   151 0000014D F7 FE                           	IDIV	ESI
   152 0000014F 88 9D FFFFFDD4                  	MOV	BYTE [-556+EBP],BL
   153 00000155 88 9C 05 FFFFFDB2               	MOV	BYTE [-590+EBP+EAX*1],BL
   154 0000015C 8D 85 FFFFFDD4                  	LEA	EAX,DWORD [-556+EBP]
   155 00000162 50                              	PUSH	EAX
   156 00000163 6A 00                           	PUSH	0
   157 00000165 6A 07                           	PUSH	7
   158 00000167 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   159 0000016D 57                              	PUSH	EDI
   160 0000016E 83 C7 08                        	ADD	EDI,8
   161 00000171 FF 75 08                        	PUSH	DWORD [8+EBP]
   162 00000174 C6 85 FFFFFDD5 00               	MOV	BYTE [-555+EBP],0
   163 0000017B E8 [00000000]                   	CALL	_putfonts8_asc_sht
   164 00000180                                 L145:
   165 00000180 83 C4 1C                        	ADD	ESP,28
   166 00000183                                 L14:
   167 00000183 83 BD FFFFFDA4 00               	CMP	DWORD [-604+EBP],0
   168 0000018A 78 2D                           	JS	L124
   169 0000018C 8B 85 FFFFFDA8                  	MOV	EAX,DWORD [-600+EBP]
   170 00000192 83 C0 0F                        	ADD	EAX,15
   171 00000195 50                              	PUSH	EAX
   172 00000196 8D 47 07                        	LEA	EAX,DWORD [7+EDI]
   173 00000199 50                              	PUSH	EAX
   174 0000019A FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   175 000001A0 57                              	PUSH	EDI
   176 000001A1 0F B6 85 FFFFFDA4               	MOVZX	EAX,BYTE [-604+EBP]
   177 000001A8 50                              	PUSH	EAX
   178 000001A9 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   179 000001AC FF 70 04                        	PUSH	DWORD [4+EAX]
   180 000001AF FF 30                           	PUSH	DWORD [EAX]
   181 000001B1 E8 [00000000]                   	CALL	_boxfill8
   182 000001B6 83 C4 1C                        	ADD	ESP,28
   183 000001B9                                 L124:
   184 000001B9 8B 85 FFFFFDA8                  	MOV	EAX,DWORD [-600+EBP]
   185 000001BF 83 C0 10                        	ADD	EAX,16
   186 000001C2 50                              	PUSH	EAX
   187 000001C3 8D 47 08                        	LEA	EAX,DWORD [8+EDI]
   188 000001C6 50                              	PUSH	EAX
   189 000001C7 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   190 000001CD 57                              	PUSH	EDI
   191 000001CE FF 75 08                        	PUSH	DWORD [8+EBP]
   192 000001D1 E8 [00000000]                   	CALL	_sheet_refresh
   193 000001D6 83 C4 14                        	ADD	ESP,20
   194 000001D9 E9 FFFFFEF0                     	JMP	L125
   195 000001DE                                 L151:
   196 000001DE 6A 01                           	PUSH	1
   197 000001E0 8D B5 FFFFFDB4                  	LEA	ESI,DWORD [-588+EBP]
   198 000001E6 68 [00000014]                   	PUSH	LC2
   199 000001EB 6A 00                           	PUSH	0
   200 000001ED 6A 07                           	PUSH	7
   201 000001EF FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   202 000001F5 57                              	PUSH	EDI
   203 000001F6 FF 75 08                        	PUSH	DWORD [8+EBP]
   204 000001F9 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   205 000001FE 89 F8                           	MOV	EAX,EDI
   206 00000200 BA 00000008                     	MOV	EDX,8
   207 00000205 BF [00000016]                   	MOV	EDI,LC3
   208 0000020A 89 D3                           	MOV	EBX,EDX
   209 0000020C 99                              	CDQ
   210 0000020D F7 FB                           	IDIV	EBX
   211 0000020F C6 84 05 FFFFFDB2 00            	MOV	BYTE [-590+EBP+EAX*1],0
   212 00000217 FF 75 08                        	PUSH	DWORD [8+EBP]
   213 0000021A FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   214 00000220 E8 0000075C                     	CALL	_cons_newline
   215 00000225 B9 00000007                     	MOV	ECX,7
   216 0000022A FC                              	CLD
   217 0000022B 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   218 00000231 F3                              	REPE
   219 00000232 A6                              	CMPSB
   220 00000233 0F 97 C2                        	SETA	DL
   221 00000236 0F 92 C0                        	SETB	AL
   222 00000239 83 C4 24                        	ADD	ESP,36
   223 0000023C 38 C2                           	CMP	DL,AL
   224 0000023E 0F 85 000000C6                  	JNE	L19
   225 00000244 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   226 00000247 8D 9D FFFFFDD4                  	LEA	EBX,DWORD [-556+EBP]
   227 0000024D C1 E8 14                        	SHR	EAX,20
   228 00000250 50                              	PUSH	EAX
   229 00000251 68 [0000001D]                   	PUSH	LC4
   230 00000256 53                              	PUSH	EBX
   231 00000257 E8 [00000000]                   	CALL	_sprintf
   232 0000025C 6A 1E                           	PUSH	30
   233 0000025E 53                              	PUSH	EBX
   234 0000025F 6A 00                           	PUSH	0
   235 00000261 6A 07                           	PUSH	7
   236 00000263 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   237 00000269 6A 08                           	PUSH	8
   238 0000026B FF 75 08                        	PUSH	DWORD [8+EBP]
   239 0000026E E8 [00000000]                   	CALL	_putfonts8_asc_sht
   240 00000273 83 C4 28                        	ADD	ESP,40
   241 00000276 FF 75 08                        	PUSH	DWORD [8+EBP]
   242 00000279 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   243 0000027F E8 000006FD                     	CALL	_cons_newline
   244 00000284 68 003C0000                     	PUSH	3932160
   245 00000289 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   246 0000028F E8 [00000000]                   	CALL	_memman_total
   247 00000294 C1 E8 0A                        	SHR	EAX,10
   248 00000297 89 04 24                        	MOV	DWORD [ESP],EAX
   249 0000029A 68 [00000028]                   	PUSH	LC5
   250 0000029F 53                              	PUSH	EBX
   251 000002A0 E8 [00000000]                   	CALL	_sprintf
   252 000002A5 6A 1E                           	PUSH	30
   253 000002A7 53                              	PUSH	EBX
   254 000002A8 6A 00                           	PUSH	0
   255 000002AA 6A 07                           	PUSH	7
   256 000002AC FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   257 000002B2 6A 08                           	PUSH	8
   258 000002B4 FF 75 08                        	PUSH	DWORD [8+EBP]
   259 000002B7 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   260 000002BC 83 C4 30                        	ADD	ESP,48
   261 000002BF FF 75 08                        	PUSH	DWORD [8+EBP]
   262 000002C2 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   263 000002C8 E8 000006B4                     	CALL	_cons_newline
   264 000002CD FF 75 08                        	PUSH	DWORD [8+EBP]
   265 000002D0 50                              	PUSH	EAX
   266 000002D1 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   267 000002D7 E8 000006A5                     	CALL	_cons_newline
   268 000002DC 83 C4 10                        	ADD	ESP,16
   269 000002DF 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   270 000002E5                                 L20:
   271 000002E5 6A 01                           	PUSH	1
   272 000002E7 BF 00000010                     	MOV	EDI,16
   273 000002EC 68 [00000012]                   	PUSH	LC1
   274 000002F1 6A 00                           	PUSH	0
   275 000002F3 6A 07                           	PUSH	7
   276 000002F5 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   277 000002FB 6A 08                           	PUSH	8
   278 000002FD FF 75 08                        	PUSH	DWORD [8+EBP]
   279 00000300 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   280 00000305 E9 FFFFFE76                     	JMP	L145
   281 0000030A                                 L19:
   282 0000030A FC                              	CLD
   283 0000030B 8D B5 FFFFFDB4                  	LEA	ESI,DWORD [-588+EBP]
   284 00000311 BF [00000032]                   	MOV	EDI,LC6
   285 00000316 B9 00000007                     	MOV	ECX,7
   286 0000031B F3                              	REPE
   287 0000031C A6                              	CMPSB
   288 0000031D 75 65                           	JNE	L21
   289 0000031F BB 0000001C                     	MOV	EBX,28
   290 00000324                                 L31:
   291 00000324 C7 85 FFFFFD9C 00000008         	MOV	DWORD [-612+EBP],8
   292 0000032E                                 L30:
   293 0000032E 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   294 00000331 89 D8                           	MOV	EAX,EBX
   295 00000333 0F AF 46 04                     	IMUL	EAX,DWORD [4+ESI]
   296 00000337 03 85 FFFFFD9C                  	ADD	EAX,DWORD [-612+EBP]
   297 0000033D 8B 16                           	MOV	EDX,DWORD [ESI]
   298 0000033F C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   299 00000343 FF 85 FFFFFD9C                  	INC	DWORD [-612+EBP]
   300 00000349 81 BD FFFFFD9C 000000F7         	CMP	DWORD [-612+EBP],247
   301 00000353 7E D9                           	JLE	L30
   302 00000355 43                              	INC	EBX
   303 00000356 81 FB 0000009B                  	CMP	EBX,155
   304 0000035C 7E C6                           	JLE	L31
   305 0000035E 68 0000009C                     	PUSH	156
   306 00000363 68 000000F8                     	PUSH	248
   307 00000368 6A 1C                           	PUSH	28
   308 0000036A 6A 08                           	PUSH	8
   309 0000036C 56                              	PUSH	ESI
   310 0000036D E8 [00000000]                   	CALL	_sheet_refresh
   311 00000372 83 C4 14                        	ADD	ESP,20
   312 00000375 C7 85 FFFFFDA8 0000001C         	MOV	DWORD [-600+EBP],28
   313 0000037F E9 FFFFFF61                     	JMP	L20
   314 00000384                                 L21:
   315 00000384 FC                              	CLD
   316 00000385 8D B5 FFFFFDB4                  	LEA	ESI,DWORD [-588+EBP]
   317 0000038B BF [00000039]                   	MOV	EDI,LC7
   318 00000390 B9 00000007                     	MOV	ECX,7
   319 00000395 F3                              	REPE
   320 00000396 A6                              	CMPSB
   321 00000397 0F 85 000000ED                  	JNE	L33
   322 0000039D C7 85 FFFFFD9C 00000000         	MOV	DWORD [-612+EBP],0
   323 000003A7 31 F6                           	XOR	ESI,ESI
   324 000003A9                                 L46:
   325 000003A9 8A 86 00102600                  	MOV	AL,BYTE [1058304+ESI]
   326 000003AF 84 C0                           	TEST	AL,AL
   327 000003B1 0F 84 000000B8                  	JE	L119
   328 000003B7 3C E5                           	CMP	AL,-27
   329 000003B9 0F 84 00000097                  	JE	L36
   330 000003BF F6 86 0010260B 18               	TEST	BYTE [1058315+ESI],24
   331 000003C6 0F 85 0000008A                  	JNE	L36
   332 000003CC FF B6 0010261C                  	PUSH	DWORD [1058332+ESI]
   333 000003D2 68 [00000040]                   	PUSH	LC8
   334 000003D7 8D 85 FFFFFDD4                  	LEA	EAX,DWORD [-556+EBP]
   335 000003DD 50                              	PUSH	EAX
   336 000003DE 31 DB                           	XOR	EBX,EBX
   337 000003E0 E8 [00000000]                   	CALL	_sprintf
   338 000003E5 8D 96 00102600                  	LEA	EDX,DWORD [1058304+ESI]
   339 000003EB 83 C4 0C                        	ADD	ESP,12
   340 000003EE                                 L45:
   341 000003EE 8A 02                           	MOV	AL,BYTE [EDX]
   342 000003F0 42                              	INC	EDX
   343 000003F1 88 84 1D FFFFFDD4               	MOV	BYTE [-556+EBP+EBX*1],AL
   344 000003F8 43                              	INC	EBX
   345 000003F9 83 FB 07                        	CMP	EBX,7
   346 000003FC 7E F0                           	JLE	L45
   347 000003FE 8A 86 00102608                  	MOV	AL,BYTE [1058312+ESI]
   348 00000404 88 85 FFFFFDDD                  	MOV	BYTE [-547+EBP],AL
   349 0000040A 8A 86 00102609                  	MOV	AL,BYTE [1058313+ESI]
   350 00000410 88 85 FFFFFDDE                  	MOV	BYTE [-546+EBP],AL
   351 00000416 8A 86 0010260A                  	MOV	AL,BYTE [1058314+ESI]
   352 0000041C 6A 1E                           	PUSH	30
   353 0000041E 88 85 FFFFFDDF                  	MOV	BYTE [-545+EBP],AL
   354 00000424 8D 85 FFFFFDD4                  	LEA	EAX,DWORD [-556+EBP]
   355 0000042A 50                              	PUSH	EAX
   356 0000042B 6A 00                           	PUSH	0
   357 0000042D 6A 07                           	PUSH	7
   358 0000042F FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   359 00000435 6A 08                           	PUSH	8
   360 00000437 FF 75 08                        	PUSH	DWORD [8+EBP]
   361 0000043A E8 [00000000]                   	CALL	_putfonts8_asc_sht
   362 0000043F FF 75 08                        	PUSH	DWORD [8+EBP]
   363 00000442 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   364 00000448 E8 00000534                     	CALL	_cons_newline
   365 0000044D 83 C4 24                        	ADD	ESP,36
   366 00000450 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   367 00000456                                 L36:
   368 00000456 FF 85 FFFFFD9C                  	INC	DWORD [-612+EBP]
   369 0000045C 83 C6 20                        	ADD	ESI,32
   370 0000045F 81 BD FFFFFD9C 000000DF         	CMP	DWORD [-612+EBP],223
   371 00000469 0F 8E FFFFFF3A                  	JLE	L46
   372 0000046F                                 L119:
   373 0000046F FF 75 08                        	PUSH	DWORD [8+EBP]
   374 00000472 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   375 00000478                                 L144:
   376 00000478 E8 00000504                     	CALL	_cons_newline
   377 0000047D 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   378 00000483 58                              	POP	EAX
   379 00000484 5A                              	POP	EDX
   380 00000485 E9 FFFFFE5B                     	JMP	L20
   381 0000048A                                 L33:
   382 0000048A FC                              	CLD
   383 0000048B 8D B5 FFFFFDB4                  	LEA	ESI,DWORD [-588+EBP]
   384 00000491 BF [00000053]                   	MOV	EDI,LC9
   385 00000496 B9 00000008                     	MOV	ECX,8
   386 0000049B F3                              	REPE
   387 0000049C A6                              	CMPSB
   388 0000049D 0F 85 00000256                  	JNE	L48
   389 000004A3 31 DB                           	XOR	EBX,EBX
   390 000004A5                                 L53:
   391 000004A5 C6 84 1D FFFFFDD4 20            	MOV	BYTE [-556+EBP+EBX*1],32
   392 000004AD 43                              	INC	EBX
   393 000004AE 83 FB 0A                        	CMP	EBX,10
   394 000004B1 7E F2                           	JLE	L53
   395 000004B3 31 DB                           	XOR	EBX,EBX
   396 000004B5 C7 85 FFFFFD9C 00000009         	MOV	DWORD [-612+EBP],9
   397 000004BF 80 BD FFFFFDBD 00               	CMP	BYTE [-579+EBP],0
   398 000004C6 74 4F                           	JE	L55
   399 000004C8                                 L62:
   400 000004C8 8B 85 FFFFFD9C                  	MOV	EAX,DWORD [-612+EBP]
   401 000004CE 8A 94 05 FFFFFDB4               	MOV	DL,BYTE [-588+EBP+EAX*1]
   402 000004D5 0F BE C2                        	MOVSX	EAX,DL
   403 000004D8 3D [0000005C]                   	CMP	EAX,LC10
   404 000004DD 0F 84 00000203                  	JE	L152
   405 000004E3                                 L59:
   406 000004E3 8D 42 9F                        	LEA	EAX,DWORD [-97+EDX]
   407 000004E6 88 94 1D FFFFFDD4               	MOV	BYTE [-556+EBP+EBX*1],DL
   408 000004ED 3C 19                           	CMP	AL,25
   409 000004EF 77 0A                           	JA	L61
   410 000004F1 8D 42 E0                        	LEA	EAX,DWORD [-32+EDX]
   411 000004F4 88 84 1D FFFFFDD4               	MOV	BYTE [-556+EBP+EBX*1],AL
   412 000004FB                                 L61:
   413 000004FB 43                              	INC	EBX
   414 000004FC                                 L56:
   415 000004FC FF 85 FFFFFD9C                  	INC	DWORD [-612+EBP]
   416 00000502 83 FB 0A                        	CMP	EBX,10
   417 00000505 7F 10                           	JG	L55
   418 00000507 8B 95 FFFFFD9C                  	MOV	EDX,DWORD [-612+EBP]
   419 0000050D 80 BC 15 FFFFFDB4 00            	CMP	BYTE [-588+EBP+EDX*1],0
   420 00000515 75 B1                           	JNE	L62
   421 00000517                                 L55:
   422 00000517 C7 85 FFFFFD9C 00000000         	MOV	DWORD [-612+EBP],0
   423 00000521 B8 00102600                     	MOV	EAX,1058304
   424 00000526                                 L76:
   425 00000526 80 38 00                        	CMP	BYTE [EAX],0
   426 00000529 74 4C                           	JE	L64
   427 0000052B                                 L74:
   428 0000052B FF 85 FFFFFD9C                  	INC	DWORD [-612+EBP]
   429 00000531 83 C0 20                        	ADD	EAX,32
   430 00000534 81 BD FFFFFD9C 000000DF         	CMP	DWORD [-612+EBP],223
   431 0000053E 7E E6                           	JLE	L76
   432 00000540                                 L118:
   433 00000540 6A 0F                           	PUSH	15
   434 00000542 68 [0000005E]                   	PUSH	LC11
   435 00000547 6A 00                           	PUSH	0
   436 00000549 6A 07                           	PUSH	7
   437 0000054B FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   438 00000551 6A 08                           	PUSH	8
   439 00000553 FF 75 08                        	PUSH	DWORD [8+EBP]
   440 00000556 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   441 0000055B FF 75 08                        	PUSH	DWORD [8+EBP]
   442 0000055E FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   443 00000564 E8 00000418                     	CALL	_cons_newline
   444 00000569 83 C4 24                        	ADD	ESP,36
   445 0000056C 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   446 00000572 E9 FFFFFEF8                     	JMP	L119
   447 00000577                                 L64:
   448 00000577 81 BD FFFFFD9C 000000DF         	CMP	DWORD [-612+EBP],223
   449 00000581 7F BD                           	JG	L118
   450 00000583 8B B5 FFFFFD9C                  	MOV	ESI,DWORD [-612+EBP]
   451 00000589 C1 E6 05                        	SAL	ESI,5
   452 0000058C 80 BE 00102600 00               	CMP	BYTE [1058304+ESI],0
   453 00000593 74 AB                           	JE	L118
   454 00000595 FF B6 0010261C                  	PUSH	DWORD [1058332+ESI]
   455 0000059B 68 003C0000                     	PUSH	3932160
   456 000005A0 31 DB                           	XOR	EBX,EBX
   457 000005A2 BF 00000008                     	MOV	EDI,8
   458 000005A7 E8 [00000000]                   	CALL	_memman_alloc_4k
   459 000005AC 68 00103E00                     	PUSH	1064448
   460 000005B1 FF B5 FFFFFD98                  	PUSH	DWORD [-616+EBP]
   461 000005B7 50                              	PUSH	EAX
   462 000005B8 89 85 FFFFFDA0                  	MOV	DWORD [-608+EBP],EAX
   463 000005BE FF B6 0010261C                  	PUSH	DWORD [1058332+ESI]
   464 000005C4 0F B7 86 0010261A               	MOVZX	EAX,WORD [1058330+ESI]
   465 000005CB 50                              	PUSH	EAX
   466 000005CC E8 [00000000]                   	CALL	_file_LoadFile
   467 000005D1 83 C4 1C                        	ADD	ESP,28
   468 000005D4 3B 9E 0010261C                  	CMP	EBX,DWORD [1058332+ESI]
   469 000005DA 73 6E                           	JAE	L138
   470 000005DC                                 L95:
   471 000005DC 8B 8D FFFFFDA0                  	MOV	ECX,DWORD [-608+EBP]
   472 000005E2 8B B5 FFFFFD9C                  	MOV	ESI,DWORD [-612+EBP]
   473 000005E8 8A 04 0E                        	MOV	AL,BYTE [ESI+ECX*1]
   474 000005EB 88 85 FFFFFDD4                  	MOV	BYTE [-556+EBP],AL
   475 000005F1 3C 09                           	CMP	AL,9
   476 000005F3 C6 85 FFFFFDD5 01               	MOV	BYTE [-555+EBP],1
   477 000005FA 0F 84 00000092                  	JE	L88
   478 00000600 8A 85 FFFFFDD4                  	MOV	AL,BYTE [-556+EBP]
   479 00000606 3C 0A                           	CMP	AL,10
   480 00000608 74 6B                           	JE	L143
   481 0000060A 3C 0D                           	CMP	AL,13
   482 0000060C 74 2A                           	JE	L80
   483 0000060E 6A 01                           	PUSH	1
   484 00000610 8D 85 FFFFFDD4                  	LEA	EAX,DWORD [-556+EBP]
   485 00000616 50                              	PUSH	EAX
   486 00000617 6A 00                           	PUSH	0
   487 00000619 6A 07                           	PUSH	7
   488 0000061B FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   489 00000621 57                              	PUSH	EDI
   490 00000622 83 C7 08                        	ADD	EDI,8
   491 00000625 FF 75 08                        	PUSH	DWORD [8+EBP]
   492 00000628 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   493 0000062D 83 C4 1C                        	ADD	ESP,28
   494 00000630 81 FF 000000F8                  	CMP	EDI,248
   495 00000636 74 3D                           	JE	L143
   496 00000638                                 L80:
   497 00000638 8B 85 FFFFFD9C                  	MOV	EAX,DWORD [-612+EBP]
   498 0000063E 43                              	INC	EBX
   499 0000063F C1 E0 05                        	SAL	EAX,5
   500 00000642 3B 98 0010261C                  	CMP	EBX,DWORD [1058332+EAX]
   501 00000648 72 92                           	JB	L95
   502 0000064A                                 L138:
   503 0000064A C1 A5 FFFFFD9C 05               	SAL	DWORD [-612+EBP],5
   504 00000651 8B 85 FFFFFD9C                  	MOV	EAX,DWORD [-612+EBP]
   505 00000657 FF B0 0010261C                  	PUSH	DWORD [1058332+EAX]
   506 0000065D FF B5 FFFFFDA0                  	PUSH	DWORD [-608+EBP]
   507 00000663 68 003C0000                     	PUSH	3932160
   508 00000668 E8 [00000000]                   	CALL	_memman_free_4k
   509 0000066D 83 C4 0C                        	ADD	ESP,12
   510 00000670 E9 FFFFFDFA                     	JMP	L119
   511 00000675                                 L143:
   512 00000675 FF 75 08                        	PUSH	DWORD [8+EBP]
   513 00000678 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   514 0000067E BF 00000008                     	MOV	EDI,8
   515 00000683 E8 000002F9                     	CALL	_cons_newline
   516 00000688 59                              	POP	ECX
   517 00000689 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   518 0000068F 5E                              	POP	ESI
   519 00000690 EB A6                           	JMP	L80
   520 00000692                                 L88:
   521 00000692 6A 01                           	PUSH	1
   522 00000694 8D 85 FFFFFDD4                  	LEA	EAX,DWORD [-556+EBP]
   523 0000069A 50                              	PUSH	EAX
   524 0000069B 6A 00                           	PUSH	0
   525 0000069D 6A 07                           	PUSH	7
   526 0000069F FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   527 000006A5 57                              	PUSH	EDI
   528 000006A6 83 C7 08                        	ADD	EDI,8
   529 000006A9 FF 75 08                        	PUSH	DWORD [8+EBP]
   530 000006AC E8 [00000000]                   	CALL	_putfonts8_asc_sht
   531 000006B1 83 C4 1C                        	ADD	ESP,28
   532 000006B4 81 FF 000000F8                  	CMP	EDI,248
   533 000006BA 74 0D                           	JE	L153
   534 000006BC                                 L86:
   535 000006BC 8D 47 F8                        	LEA	EAX,DWORD [-8+EDI]
   536 000006BF 83 E0 1F                        	AND	EAX,31
   537 000006C2 75 CE                           	JNE	L88
   538 000006C4 E9 FFFFFF6F                     	JMP	L80
   539 000006C9                                 L153:
   540 000006C9 FF 75 08                        	PUSH	DWORD [8+EBP]
   541 000006CC FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   542 000006D2 BF 00000008                     	MOV	EDI,8
   543 000006D7 E8 000002A5                     	CALL	_cons_newline
   544 000006DC 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   545 000006E2 58                              	POP	EAX
   546 000006E3 5A                              	POP	EDX
   547 000006E4 EB D6                           	JMP	L86
   548 000006E6                                 L152:
   549 000006E6 83 FB 08                        	CMP	EBX,8
   550 000006E9 0F 8F FFFFFDF4                  	JG	L59
   551 000006EF BB 00000008                     	MOV	EBX,8
   552 000006F4 E9 FFFFFE03                     	JMP	L56
   553 000006F9                                 L48:
   554 000006F9 FC                              	CLD
   555 000006FA 8D B5 FFFFFDB4                  	LEA	ESI,DWORD [-588+EBP]
   556 00000700 BF [0000006E]                   	MOV	EDI,LC12
   557 00000705 B9 00000007                     	MOV	ECX,7
   558 0000070A F3                              	REPE
   559 0000070B A6                              	CMPSB
   560 0000070C 0F 85 0000013F                  	JNE	L98
   561 00000712 31 DB                           	XOR	EBX,EBX
   562 00000714                                 L103:
   563 00000714 C6 84 1D FFFFFDD4 20            	MOV	BYTE [-556+EBP+EBX*1],32
   564 0000071C 43                              	INC	EBX
   565 0000071D 83 FB 0A                        	CMP	EBX,10
   566 00000720 7E F2                           	JLE	L103
   567 00000722 C6 85 FFFFFDD4 48               	MOV	BYTE [-556+EBP],72
   568 00000729 C6 85 FFFFFDD5 4C               	MOV	BYTE [-555+EBP],76
   569 00000730 C6 85 FFFFFDD6 54               	MOV	BYTE [-554+EBP],84
   570 00000737 C6 85 FFFFFDDC 48               	MOV	BYTE [-548+EBP],72
   571 0000073E C6 85 FFFFFDDD 52               	MOV	BYTE [-547+EBP],82
   572 00000745 C6 85 FFFFFDDE 42               	MOV	BYTE [-546+EBP],66
   573 0000074C C7 85 FFFFFD9C 00000000         	MOV	DWORD [-612+EBP],0
   574 00000756 31 C9                           	XOR	ECX,ECX
   575 00000758                                 L117:
   576 00000758 80 B9 00102600 00               	CMP	BYTE [1058304+ECX],0
   577 0000075F 74 2D                           	JE	L105
   578 00000761 F6 81 0010260B 18               	TEST	BYTE [1058315+ECX],24
   579 00000768 0F 85 000000C5                  	JNE	L115
   580 0000076E 31 DB                           	XOR	EBX,EBX
   581 00000770                                 L116:
   582 00000770 0F B6 94 19 00102600            	MOVZX	EDX,BYTE [1058304+ECX+EBX*1]
   583 00000778 0F BE 84 1D FFFFFDD4            	MOVSX	EAX,BYTE [-556+EBP+EBX*1]
   584 00000780 39 C2                           	CMP	EDX,EAX
   585 00000782 0F 85 000000AB                  	JNE	L115
   586 00000788 43                              	INC	EBX
   587 00000789 83 FB 0A                        	CMP	EBX,10
   588 0000078C 7E E2                           	JLE	L116
   589 0000078E                                 L105:
   590 0000078E 81 BD FFFFFD9C 000000DF         	CMP	DWORD [-612+EBP],223
   591 00000798 0F 8F FFFFFDA2                  	JG	L118
   592 0000079E 8B 9D FFFFFD9C                  	MOV	EBX,DWORD [-612+EBP]
   593 000007A4 C1 E3 05                        	SAL	EBX,5
   594 000007A7 80 BB 00102600 00               	CMP	BYTE [1058304+EBX],0
   595 000007AE 0F 84 FFFFFD8C                  	JE	L118
   596 000007B4 FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   597 000007BA 68 003C0000                     	PUSH	3932160
   598 000007BF E8 [00000000]                   	CALL	_memman_alloc_4k
   599 000007C4 68 00103E00                     	PUSH	1064448
   600 000007C9 FF B5 FFFFFD98                  	PUSH	DWORD [-616+EBP]
   601 000007CF 50                              	PUSH	EAX
   602 000007D0 89 85 FFFFFDA0                  	MOV	DWORD [-608+EBP],EAX
   603 000007D6 FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   604 000007DC 0F B7 83 0010261A               	MOVZX	EAX,WORD [1058330+EBX]
   605 000007E3 50                              	PUSH	EAX
   606 000007E4 E8 [00000000]                   	CALL	_file_LoadFile
   607 000007E9 68 0000409A                     	PUSH	16538
   608 000007EE FF B5 FFFFFDA0                  	PUSH	DWORD [-608+EBP]
   609 000007F4 8B 83 0010261C                  	MOV	EAX,DWORD [1058332+EBX]
   610 000007FA 48                              	DEC	EAX
   611 000007FB 50                              	PUSH	EAX
   612 000007FC 68 00271F58                     	PUSH	2563928
   613 00000801 E8 [00000000]                   	CALL	_set_segmdesc
   614 00000806 83 C4 2C                        	ADD	ESP,44
   615 00000809 68 00001F58                     	PUSH	8024
   616 0000080E 6A 00                           	PUSH	0
   617 00000810 E8 [00000000]                   	CALL	_farjmp
   618 00000815 FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   619 0000081B FF B5 FFFFFDA0                  	PUSH	DWORD [-608+EBP]
   620 00000821 68 003C0000                     	PUSH	3932160
   621 00000826 E8 [00000000]                   	CALL	_memman_free_4k
   622 0000082B 83 C4 14                        	ADD	ESP,20
   623 0000082E E9 FFFFFC3C                     	JMP	L119
   624 00000833                                 L115:
   625 00000833 FF 85 FFFFFD9C                  	INC	DWORD [-612+EBP]
   626 00000839 83 C1 20                        	ADD	ECX,32
   627 0000083C 81 BD FFFFFD9C 000000DF         	CMP	DWORD [-612+EBP],223
   628 00000846 0F 8E FFFFFF0C                  	JLE	L117
   629 0000084C E9 FFFFFCEF                     	JMP	L118
   630 00000851                                 L98:
   631 00000851 80 BD FFFFFDB4 00               	CMP	BYTE [-588+EBP],0
   632 00000858 0F 84 FFFFFA87                  	JE	L20
   633 0000085E 6A 0F                           	PUSH	15
   634 00000860 68 [00000075]                   	PUSH	LC13
   635 00000865 6A 00                           	PUSH	0
   636 00000867 6A 07                           	PUSH	7
   637 00000869 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   638 0000086F 6A 08                           	PUSH	8
   639 00000871 FF 75 08                        	PUSH	DWORD [8+EBP]
   640 00000874 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   641 00000879 FF 75 08                        	PUSH	DWORD [8+EBP]
   642 0000087C FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   643 00000882 E8 000000FA                     	CALL	_cons_newline
   644 00000887 83 C4 24                        	ADD	ESP,36
   645 0000088A FF 75 08                        	PUSH	DWORD [8+EBP]
   646 0000088D 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   647 00000893 50                              	PUSH	EAX
   648 00000894 E9 FFFFFBDF                     	JMP	L144
   649 00000899                                 L150:
   650 00000899 83 FF 10                        	CMP	EDI,16
   651 0000089C 0F 8E FFFFF8E1                  	JLE	L14
   652 000008A2 6A 01                           	PUSH	1
   653 000008A4 68 [00000014]                   	PUSH	LC2
   654 000008A9 6A 00                           	PUSH	0
   655 000008AB 6A 07                           	PUSH	7
   656 000008AD FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   657 000008B3 57                              	PUSH	EDI
   658 000008B4 83 EF 08                        	SUB	EDI,8
   659 000008B7 FF 75 08                        	PUSH	DWORD [8+EBP]
   660 000008BA E8 [00000000]                   	CALL	_putfonts8_asc_sht
   661 000008BF E9 FFFFF8BC                     	JMP	L145
   662 000008C4                                 L149:
   663 000008C4 8B 85 FFFFFDA8                  	MOV	EAX,DWORD [-600+EBP]
   664 000008CA 83 C0 0F                        	ADD	EAX,15
   665 000008CD 50                              	PUSH	EAX
   666 000008CE 8D 47 07                        	LEA	EAX,DWORD [7+EDI]
   667 000008D1 50                              	PUSH	EAX
   668 000008D2 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   669 000008D5 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   670 000008DB 57                              	PUSH	EDI
   671 000008DC 6A 00                           	PUSH	0
   672 000008DE FF 70 04                        	PUSH	DWORD [4+EAX]
   673 000008E1 FF 30                           	PUSH	DWORD [EAX]
   674 000008E3 E8 [00000000]                   	CALL	_boxfill8
   675 000008E8 83 C4 1C                        	ADD	ESP,28
   676 000008EB C7 85 FFFFFDA4 FFFFFFFF         	MOV	DWORD [-604+EBP],-1
   677 000008F5 E9 FFFFF81A                     	JMP	L13
   678 000008FA                                 L148:
   679 000008FA C7 85 FFFFFDA4 00000007         	MOV	DWORD [-604+EBP],7
   680 00000904 E9 FFFFF802                     	JMP	L12
   681 00000909                                 L147:
   682 00000909 85 DB                           	TEST	EBX,EBX
   683 0000090B 74 38                           	JE	L8
   684 0000090D 6A 00                           	PUSH	0
   685 0000090F 56                              	PUSH	ESI
   686 00000910 FF B5 FFFFFDB0                  	PUSH	DWORD [-592+EBP]
   687 00000916 E8 [00000000]                   	CALL	_timer_init
   688 0000091B 83 C4 0C                        	ADD	ESP,12
   689 0000091E 83 BD FFFFFDA4 00               	CMP	DWORD [-604+EBP],0
   690 00000925 78 0A                           	JS	L10
   691 00000927 C7 85 FFFFFDA4 00000007         	MOV	DWORD [-604+EBP],7
   692 00000931                                 L10:
   693 00000931 6A 32                           	PUSH	50
   694 00000933 FF B5 FFFFFDB0                  	PUSH	DWORD [-592+EBP]
   695 00000939 E8 [00000000]                   	CALL	_timer_settime
   696 0000093E 59                              	POP	ECX
   697 0000093F 5E                              	POP	ESI
   698 00000940 E9 FFFFF7BD                     	JMP	L7
   699 00000945                                 L8:
   700 00000945 6A 01                           	PUSH	1
   701 00000947 56                              	PUSH	ESI
   702 00000948 FF B5 FFFFFDB0                  	PUSH	DWORD [-592+EBP]
   703 0000094E E8 [00000000]                   	CALL	_timer_init
   704 00000953 83 C4 0C                        	ADD	ESP,12
   705 00000956 83 BD FFFFFDA4 00               	CMP	DWORD [-604+EBP],0
   706 0000095D 78 D2                           	JS	L10
   707 0000095F C7 85 FFFFFDA4 00000000         	MOV	DWORD [-604+EBP],0
   708 00000969 EB C6                           	JMP	L10
   709 0000096B                                 L146:
   710 0000096B FF B5 FFFFFDAC                  	PUSH	DWORD [-596+EBP]
   711 00000971 E8 [00000000]                   	CALL	_task_sleep
   712 00000976 E8 [00000000]                   	CALL	_io_sti
   713 0000097B 58                              	POP	EAX
   714 0000097C E9 FFFFF74D                     	JMP	L125
   715 00000981                                 	GLOBAL	_cons_newline
   716 00000981                                 _cons_newline:
   717 00000981 55                              	PUSH	EBP
   718 00000982 89 E5                           	MOV	EBP,ESP
   719 00000984 57                              	PUSH	EDI
   720 00000985 56                              	PUSH	ESI
   721 00000986 BF 0000001C                     	MOV	EDI,28
   722 0000098B 53                              	PUSH	EBX
   723 0000098C 81 7D 08 0000008B               	CMP	DWORD [8+EBP],139
   724 00000993 7F 0F                           	JG	L166
   725 00000995 83 45 08 10                     	ADD	DWORD [8+EBP],16
   726 00000999                                 L156:
   727 00000999 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   728 0000099C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   729 0000099F 5B                              	POP	EBX
   730 000009A0 5E                              	POP	ESI
   731 000009A1 5F                              	POP	EDI
   732 000009A2 5D                              	POP	EBP
   733 000009A3 C3                              	RET
   734 000009A4                                 L166:
   735 000009A4 BE 00000008                     	MOV	ESI,8
   736 000009A9                                 L165:
   737 000009A9 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   738 000009AC 89 FA                           	MOV	EDX,EDI
   739 000009AE 8B 48 04                        	MOV	ECX,DWORD [4+EAX]
   740 000009B1 8B 18                           	MOV	EBX,DWORD [EAX]
   741 000009B3 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   742 000009B6 0F AF C1                        	IMUL	EAX,ECX
   743 000009B9 0F AF D1                        	IMUL	EDX,ECX
   744 000009BC 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   745 000009BF 8D 14 32                        	LEA	EDX,DWORD [EDX+ESI*1]
   746 000009C2 46                              	INC	ESI
   747 000009C3 8A 04 18                        	MOV	AL,BYTE [EAX+EBX*1]
   748 000009C6 81 FE 000000F7                  	CMP	ESI,247
   749 000009CC 88 04 1A                        	MOV	BYTE [EDX+EBX*1],AL
   750 000009CF 7E D8                           	JLE	L165
   751 000009D1 47                              	INC	EDI
   752 000009D2 81 FF 0000008B                  	CMP	EDI,139
   753 000009D8 7E CA                           	JLE	L166
   754 000009DA BF 0000008C                     	MOV	EDI,140
   755 000009DF                                 L176:
   756 000009DF BE 00000008                     	MOV	ESI,8
   757 000009E4                                 L175:
   758 000009E4 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
   759 000009E7 89 F8                           	MOV	EAX,EDI
   760 000009E9 89 D1                           	MOV	ECX,EDX
   761 000009EB 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
   762 000009EF 8B 12                           	MOV	EDX,DWORD [EDX]
   763 000009F1 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   764 000009F4 46                              	INC	ESI
   765 000009F5 81 FE 000000F7                  	CMP	ESI,247
   766 000009FB C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   767 000009FF 7E E3                           	JLE	L175
   768 00000A01 47                              	INC	EDI
   769 00000A02 81 FF 0000009B                  	CMP	EDI,155
   770 00000A08 7E D5                           	JLE	L176
   771 00000A0A 68 0000009C                     	PUSH	156
   772 00000A0F 68 000000F8                     	PUSH	248
   773 00000A14 6A 1C                           	PUSH	28
   774 00000A16 6A 08                           	PUSH	8
   775 00000A18 51                              	PUSH	ECX
   776 00000A19 E8 [00000000]                   	CALL	_sheet_refresh
   777 00000A1E 83 C4 14                        	ADD	ESP,20
   778 00000A21 E9 FFFFFF73                     	JMP	L156
