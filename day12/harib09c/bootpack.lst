     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdtidt
     7 00000000                                 	EXTERN	_init_pic
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_keyfifo
    10 00000000                                 	EXTERN	_fifo8_init
    11 00000000                                 	EXTERN	_mousefifo
    12 00000000                                 	EXTERN	_settimer
    13 00000000                                 	EXTERN	_init_pit
    14 00000000                                 	EXTERN	_io_out8
    15 00000000                                 	EXTERN	_init_keyboard
    16 00000000                                 	EXTERN	_enable_mouse
    17 00000000                                 	EXTERN	_memtest
    18 00000000                                 	EXTERN	_memman_init
    19 00000000                                 	EXTERN	_memman_free
    20 00000000                                 	EXTERN	_init_palette
    21 00000000                                 	EXTERN	_shtctl_init
    22 00000000                                 	EXTERN	_sheet_alloc
    23 00000000                                 	EXTERN	_memman_alloc_4k
    24 00000000                                 	EXTERN	_sheet_setbuf
    25 00000000                                 	EXTERN	_init_screen8
    26 00000000                                 	EXTERN	_init_mouse_cursor8
    27 00000000                                 	EXTERN	_sheet_slide
    28 00000000                                 	EXTERN	_sheet_updown
    29 00000000                                 	EXTERN	_sprintf
    30 00000000                                 	EXTERN	_putfonts8_asc
    31 00000000                                 	EXTERN	_memman_total
    32 00000000                                 	EXTERN	_sheet_refresh
    33 00000000                                 	EXTERN	_timerctl
    34 00000000                                 	EXTERN	_boxfill8
    35 00000000                                 	EXTERN	_io_cli
    36 00000000                                 	EXTERN	_fifo8_status
    37 00000000                                 	EXTERN	_fifo8_get
    38 00000000                                 	EXTERN	_mouse_decode
    39 00000000                                 [FILE "bootpack.c"]
    40                                          [SECTION .data]
    41 00000000                                 LC0:
    42 00000000 43 6F 75 6E 74 65 72 00         	DB	"Counter",0x00
    43 00000008                                 LC1:
    44 00000008 28 25 33 64 2C 20 25 33 64 29   	DB	"(%3d, %3d)",0x00
       00000012 00 
    45 00000013                                 LC2:
    46 00000013 6D 65 6D 6F 72 79 20 25 64 4D   	DB	"memory %dMB   free : %dKB",0x00
       0000001D 42 20 20 20 66 72 65 65 20 3A 
       00000027 20 25 64 4B 42 00 
    47 0000002D                                 LC3:
    48 0000002D 25 30 31 30 64 00               	DB	"%010d",0x00
    49 00000033                                 LC6:
    50 00000033 31 30 5B 73 65 63 5D 00         	DB	"10[sec]",0x00
    51 0000003B                                 LC5:
    52 0000003B 5B 6C 63 72 20 25 34 64 20 25   	DB	"[lcr %4d %4d]",0x00
       00000045 34 64 5D 00 
    53 00000049                                 LC4:
    54 00000049 25 30 32 58 00                  	DB	"%02X",0x00
    55                                          [SECTION .text]
    56 00000000                                 	GLOBAL	_HariMain
    57 00000000                                 _HariMain:
    58 00000000 55                              	PUSH	EBP
    59 00000001 89 E5                           	MOV	EBP,ESP
    60 00000003 57                              	PUSH	EDI
    61 00000004 56                              	PUSH	ESI
    62 00000005 53                              	PUSH	EBX
    63 00000006 8D 9D FFFFFCE4                  	LEA	EBX,DWORD [-796+EBP]
    64 0000000C 81 EC 00000338                  	SUB	ESP,824
    65 00000012 E8 [00000000]                   	CALL	_init_gdtidt
    66 00000017 E8 [00000000]                   	CALL	_init_pic
    67 0000001C E8 [00000000]                   	CALL	_io_sti
    68 00000021 8D 85 FFFFFEA4                  	LEA	EAX,DWORD [-348+EBP]
    69 00000027 50                              	PUSH	EAX
    70 00000028 6A 20                           	PUSH	32
    71 0000002A 68 [00000000]                   	PUSH	_keyfifo
    72 0000002F E8 [00000000]                   	CALL	_fifo8_init
    73 00000034 8D 85 FFFFFE24                  	LEA	EAX,DWORD [-476+EBP]
    74 0000003A 50                              	PUSH	EAX
    75 0000003B 68 00000080                     	PUSH	128
    76 00000040 68 [00000000]                   	PUSH	_mousefifo
    77 00000045 E8 [00000000]                   	CALL	_fifo8_init
    78 0000004A 8D 85 FFFFFCDC                  	LEA	EAX,DWORD [-804+EBP]
    79 00000050 50                              	PUSH	EAX
    80 00000051 6A 08                           	PUSH	8
    81 00000053 53                              	PUSH	EBX
    82 00000054 E8 [00000000]                   	CALL	_fifo8_init
    83 00000059 83 C4 24                        	ADD	ESP,36
    84 0000005C 6A 01                           	PUSH	1
    85 0000005E 53                              	PUSH	EBX
    86 0000005F 68 00002710                     	PUSH	10000
    87 00000064 E8 [00000000]                   	CALL	_settimer
    88 00000069 E8 [00000000]                   	CALL	_init_pit
    89 0000006E 68 000000F8                     	PUSH	248
    90 00000073 6A 21                           	PUSH	33
    91 00000075 E8 [00000000]                   	CALL	_io_out8
    92 0000007A 68 000000EF                     	PUSH	239
    93 0000007F 68 000000A1                     	PUSH	161
    94 00000084 E8 [00000000]                   	CALL	_io_out8
    95 00000089 E8 [00000000]                   	CALL	_init_keyboard
    96 0000008E 8D 85 FFFFFE04                  	LEA	EAX,DWORD [-508+EBP]
    97 00000094 50                              	PUSH	EAX
    98 00000095 E8 [00000000]                   	CALL	_enable_mouse
    99 0000009A 83 C4 20                        	ADD	ESP,32
   100 0000009D 68 BFFFFFFF                     	PUSH	-1073741825
   101 000000A2 68 00400000                     	PUSH	4194304
   102 000000A7 E8 [00000000]                   	CALL	_memtest
   103 000000AC 68 003C0000                     	PUSH	3932160
   104 000000B1 89 85 FFFFFCD8                  	MOV	DWORD [-808+EBP],EAX
   105 000000B7 E8 [00000000]                   	CALL	_memman_init
   106 000000BC 68 0009E000                     	PUSH	647168
   107 000000C1 68 00001000                     	PUSH	4096
   108 000000C6 68 003C0000                     	PUSH	3932160
   109 000000CB E8 [00000000]                   	CALL	_memman_free
   110 000000D0 8B 85 FFFFFCD8                  	MOV	EAX,DWORD [-808+EBP]
   111 000000D6 2D 00400000                     	SUB	EAX,4194304
   112 000000DB 50                              	PUSH	EAX
   113 000000DC 68 00400000                     	PUSH	4194304
   114 000000E1 68 003C0000                     	PUSH	3932160
   115 000000E6 E8 [00000000]                   	CALL	_memman_free
   116 000000EB 83 C4 24                        	ADD	ESP,36
   117 000000EE E8 [00000000]                   	CALL	_init_palette
   118 000000F3 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   119 000000FA 50                              	PUSH	EAX
   120 000000FB 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   121 00000102 50                              	PUSH	EAX
   122 00000103 FF 35 00000FF8                  	PUSH	DWORD [4088]
   123 00000109 68 003C0000                     	PUSH	3932160
   124 0000010E E8 [00000000]                   	CALL	_shtctl_init
   125 00000113 89 C3                           	MOV	EBX,EAX
   126 00000115 50                              	PUSH	EAX
   127 00000116 E8 [00000000]                   	CALL	_sheet_alloc
   128 0000011B 53                              	PUSH	EBX
   129 0000011C 89 85 FFFFFCD4                  	MOV	DWORD [-812+EBP],EAX
   130 00000122 E8 [00000000]                   	CALL	_sheet_alloc
   131 00000127 53                              	PUSH	EBX
   132 00000128 8D 9D FFFFFD04                  	LEA	EBX,DWORD [-764+EBP]
   133 0000012E 89 85 FFFFFCD0                  	MOV	DWORD [-816+EBP],EAX
   134 00000134 E8 [00000000]                   	CALL	_sheet_alloc
   135 00000139 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   136 00000140 89 85 FFFFFCCC                  	MOV	DWORD [-820+EBP],EAX
   137 00000146 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   138 0000014D 0F AF C2                        	IMUL	EAX,EDX
   139 00000150 50                              	PUSH	EAX
   140 00000151 68 003C0000                     	PUSH	3932160
   141 00000156 E8 [00000000]                   	CALL	_memman_alloc_4k
   142 0000015B 83 C4 24                        	ADD	ESP,36
   143 0000015E 68 00002080                     	PUSH	8320
   144 00000163 89 85 FFFFFCC8                  	MOV	DWORD [-824+EBP],EAX
   145 00000169 68 003C0000                     	PUSH	3932160
   146 0000016E E8 [00000000]                   	CALL	_memman_alloc_4k
   147 00000173 6A FF                           	PUSH	-1
   148 00000175 89 85 FFFFFCC4                  	MOV	DWORD [-828+EBP],EAX
   149 0000017B 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   150 00000182 50                              	PUSH	EAX
   151 00000183 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   152 0000018A 50                              	PUSH	EAX
   153 0000018B FF B5 FFFFFCC8                  	PUSH	DWORD [-824+EBP]
   154 00000191 FF B5 FFFFFCD4                  	PUSH	DWORD [-812+EBP]
   155 00000197 E8 [00000000]                   	CALL	_sheet_setbuf
   156 0000019C 6A 63                           	PUSH	99
   157 0000019E 6A 10                           	PUSH	16
   158 000001A0 6A 10                           	PUSH	16
   159 000001A2 53                              	PUSH	EBX
   160 000001A3 FF B5 FFFFFCD0                  	PUSH	DWORD [-816+EBP]
   161 000001A9 E8 [00000000]                   	CALL	_sheet_setbuf
   162 000001AE 83 C4 30                        	ADD	ESP,48
   163 000001B1 6A FF                           	PUSH	-1
   164 000001B3 6A 44                           	PUSH	68
   165 000001B5 68 000000A0                     	PUSH	160
   166 000001BA FF B5 FFFFFCC4                  	PUSH	DWORD [-828+EBP]
   167 000001C0 FF B5 FFFFFCCC                  	PUSH	DWORD [-820+EBP]
   168 000001C6 E8 [00000000]                   	CALL	_sheet_setbuf
   169 000001CB 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   170 000001D2 50                              	PUSH	EAX
   171 000001D3 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   172 000001DA 50                              	PUSH	EAX
   173 000001DB FF B5 FFFFFCC8                  	PUSH	DWORD [-824+EBP]
   174 000001E1 E8 [00000000]                   	CALL	_init_screen8
   175 000001E6 83 C4 20                        	ADD	ESP,32
   176 000001E9 6A 63                           	PUSH	99
   177 000001EB 53                              	PUSH	EBX
   178 000001EC BB 00000002                     	MOV	EBX,2
   179 000001F1 E8 [00000000]                   	CALL	_init_mouse_cursor8
   180 000001F6 68 [00000000]                   	PUSH	LC0
   181 000001FB 6A 44                           	PUSH	68
   182 000001FD 68 000000A0                     	PUSH	160
   183 00000202 FF B5 FFFFFCC4                  	PUSH	DWORD [-828+EBP]
   184 00000208 E8 00000402                     	CALL	_make_window8
   185 0000020D 6A 00                           	PUSH	0
   186 0000020F 6A 00                           	PUSH	0
   187 00000211 FF B5 FFFFFCD4                  	PUSH	DWORD [-812+EBP]
   188 00000217 E8 [00000000]                   	CALL	_sheet_slide
   189 0000021C 83 C4 24                        	ADD	ESP,36
   190 0000021F 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   191 00000226 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
   192 00000229 89 C8                           	MOV	EAX,ECX
   193 0000022B 99                              	CDQ
   194 0000022C F7 FB                           	IDIV	EBX
   195 0000022E 89 C6                           	MOV	ESI,EAX
   196 00000230 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   197 00000237 8D 48 D4                        	LEA	ECX,DWORD [-44+EAX]
   198 0000023A 89 C8                           	MOV	EAX,ECX
   199 0000023C 99                              	CDQ
   200 0000023D F7 FB                           	IDIV	EBX
   201 0000023F 50                              	PUSH	EAX
   202 00000240 89 C7                           	MOV	EDI,EAX
   203 00000242 56                              	PUSH	ESI
   204 00000243 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   205 00000246 FF B5 FFFFFCD0                  	PUSH	DWORD [-816+EBP]
   206 0000024C E8 [00000000]                   	CALL	_sheet_slide
   207 00000251 6A 48                           	PUSH	72
   208 00000253 6A 50                           	PUSH	80
   209 00000255 FF B5 FFFFFCCC                  	PUSH	DWORD [-820+EBP]
   210 0000025B E8 [00000000]                   	CALL	_sheet_slide
   211 00000260 6A 00                           	PUSH	0
   212 00000262 FF B5 FFFFFCD4                  	PUSH	DWORD [-812+EBP]
   213 00000268 E8 [00000000]                   	CALL	_sheet_updown
   214 0000026D 83 C4 20                        	ADD	ESP,32
   215 00000270 6A 01                           	PUSH	1
   216 00000272 FF B5 FFFFFCCC                  	PUSH	DWORD [-820+EBP]
   217 00000278 E8 [00000000]                   	CALL	_sheet_updown
   218 0000027D 6A 02                           	PUSH	2
   219 0000027F FF B5 FFFFFCD0                  	PUSH	DWORD [-816+EBP]
   220 00000285 E8 [00000000]                   	CALL	_sheet_updown
   221 0000028A 57                              	PUSH	EDI
   222 0000028B 56                              	PUSH	ESI
   223 0000028C 68 [00000008]                   	PUSH	LC1
   224 00000291 53                              	PUSH	EBX
   225 00000292 E8 [00000000]                   	CALL	_sprintf
   226 00000297 83 C4 20                        	ADD	ESP,32
   227 0000029A 53                              	PUSH	EBX
   228 0000029B 6A 07                           	PUSH	7
   229 0000029D 6A 00                           	PUSH	0
   230 0000029F 6A 00                           	PUSH	0
   231 000002A1 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   232 000002A8 50                              	PUSH	EAX
   233 000002A9 FF B5 FFFFFCC8                  	PUSH	DWORD [-824+EBP]
   234 000002AF E8 [00000000]                   	CALL	_putfonts8_asc
   235 000002B4 68 003C0000                     	PUSH	3932160
   236 000002B9 E8 [00000000]                   	CALL	_memman_total
   237 000002BE C1 AD FFFFFCD8 14               	SHR	DWORD [-808+EBP],20
   238 000002C5 C1 E8 0A                        	SHR	EAX,10
   239 000002C8 89 04 24                        	MOV	DWORD [ESP],EAX
   240 000002CB FF B5 FFFFFCD8                  	PUSH	DWORD [-808+EBP]
   241 000002D1 68 [00000013]                   	PUSH	LC2
   242 000002D6 53                              	PUSH	EBX
   243 000002D7 E8 [00000000]                   	CALL	_sprintf
   244 000002DC 83 C4 28                        	ADD	ESP,40
   245 000002DF 53                              	PUSH	EBX
   246 000002E0 6A 07                           	PUSH	7
   247 000002E2 6A 20                           	PUSH	32
   248 000002E4 6A 00                           	PUSH	0
   249 000002E6 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   250 000002ED 50                              	PUSH	EAX
   251 000002EE FF B5 FFFFFCC8                  	PUSH	DWORD [-824+EBP]
   252 000002F4 E8 [00000000]                   	CALL	_putfonts8_asc
   253 000002F9 6A 30                           	PUSH	48
   254 000002FB 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   255 00000302 50                              	PUSH	EAX
   256 00000303 6A 00                           	PUSH	0
   257 00000305                                 L20:
   258 00000305 6A 00                           	PUSH	0
   259 00000307 FF B5 FFFFFCD4                  	PUSH	DWORD [-812+EBP]
   260 0000030D E8 [00000000]                   	CALL	_sheet_refresh
   261 00000312 83 C4 2C                        	ADD	ESP,44
   262 00000315                                 L2:
   263 00000315 FF 35 [00000000]                	PUSH	DWORD [_timerctl]
   264 0000031B 68 [0000002D]                   	PUSH	LC3
   265 00000320 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   266 00000323 53                              	PUSH	EBX
   267 00000324 E8 [00000000]                   	CALL	_sprintf
   268 00000329 6A 2B                           	PUSH	43
   269 0000032B 6A 77                           	PUSH	119
   270 0000032D 6A 1C                           	PUSH	28
   271 0000032F 6A 28                           	PUSH	40
   272 00000331 6A 08                           	PUSH	8
   273 00000333 68 000000A0                     	PUSH	160
   274 00000338 FF B5 FFFFFCC4                  	PUSH	DWORD [-828+EBP]
   275 0000033E E8 [00000000]                   	CALL	_boxfill8
   276 00000343 83 C4 28                        	ADD	ESP,40
   277 00000346 53                              	PUSH	EBX
   278 00000347 6A 00                           	PUSH	0
   279 00000349 6A 1C                           	PUSH	28
   280 0000034B 6A 28                           	PUSH	40
   281 0000034D 68 000000A0                     	PUSH	160
   282 00000352 FF B5 FFFFFCC4                  	PUSH	DWORD [-828+EBP]
   283 00000358 E8 [00000000]                   	CALL	_putfonts8_asc
   284 0000035D 6A 2C                           	PUSH	44
   285 0000035F 6A 78                           	PUSH	120
   286 00000361 6A 1C                           	PUSH	28
   287 00000363 6A 28                           	PUSH	40
   288 00000365 FF B5 FFFFFCCC                  	PUSH	DWORD [-820+EBP]
   289 0000036B E8 [00000000]                   	CALL	_sheet_refresh
   290 00000370 83 C4 2C                        	ADD	ESP,44
   291 00000373 E8 [00000000]                   	CALL	_io_cli
   292 00000378 68 [00000000]                   	PUSH	_keyfifo
   293 0000037D E8 [00000000]                   	CALL	_fifo8_status
   294 00000382 5B                              	POP	EBX
   295 00000383 85 C0                           	TEST	EAX,EAX
   296 00000385 75 24                           	JNE	L5
   297 00000387 68 [00000000]                   	PUSH	_mousefifo
   298 0000038C E8 [00000000]                   	CALL	_fifo8_status
   299 00000391 59                              	POP	ECX
   300 00000392 85 C0                           	TEST	EAX,EAX
   301 00000394 75 15                           	JNE	L5
   302 00000396 8D 85 FFFFFCE4                  	LEA	EAX,DWORD [-796+EBP]
   303 0000039C 50                              	PUSH	EAX
   304 0000039D E8 [00000000]                   	CALL	_fifo8_status
   305 000003A2 5A                              	POP	EDX
   306 000003A3 85 C0                           	TEST	EAX,EAX
   307 000003A5 0F 84 0000025A                  	JE	L21
   308 000003AB                                 L5:
   309 000003AB 68 [00000000]                   	PUSH	_keyfifo
   310 000003B0 E8 [00000000]                   	CALL	_fifo8_status
   311 000003B5 5B                              	POP	EBX
   312 000003B6 85 C0                           	TEST	EAX,EAX
   313 000003B8 0F 85 000001E2                  	JNE	L22
   314 000003BE 68 [00000000]                   	PUSH	_mousefifo
   315 000003C3 E8 [00000000]                   	CALL	_fifo8_status
   316 000003C8 59                              	POP	ECX
   317 000003C9 85 C0                           	TEST	EAX,EAX
   318 000003CB 75 59                           	JNE	L23
   319 000003CD 8D 9D FFFFFCE4                  	LEA	EBX,DWORD [-796+EBP]
   320 000003D3 53                              	PUSH	EBX
   321 000003D4 E8 [00000000]                   	CALL	_fifo8_status
   322 000003D9 5A                              	POP	EDX
   323 000003DA 85 C0                           	TEST	EAX,EAX
   324 000003DC 0F 84 FFFFFF33                  	JE	L2
   325 000003E2 53                              	PUSH	EBX
   326 000003E3 E8 [00000000]                   	CALL	_fifo8_get
   327 000003E8 E8 [00000000]                   	CALL	_io_sti
   328 000003ED 68 [00000033]                   	PUSH	LC6
   329 000003F2 6A 07                           	PUSH	7
   330 000003F4 6A 40                           	PUSH	64
   331 000003F6 6A 00                           	PUSH	0
   332 000003F8 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   333 000003FF 50                              	PUSH	EAX
   334 00000400 FF B5 FFFFFCC8                  	PUSH	DWORD [-824+EBP]
   335 00000406 E8 [00000000]                   	CALL	_putfonts8_asc
   336 0000040B 6A 50                           	PUSH	80
   337 0000040D 6A 38                           	PUSH	56
   338 0000040F 6A 40                           	PUSH	64
   339 00000411 6A 00                           	PUSH	0
   340 00000413 FF B5 FFFFFCD4                  	PUSH	DWORD [-812+EBP]
   341 00000419 E8 [00000000]                   	CALL	_sheet_refresh
   342 0000041E 83 C4 30                        	ADD	ESP,48
   343 00000421 E9 FFFFFEEF                     	JMP	L2
   344 00000426                                 L23:
   345 00000426 68 [00000000]                   	PUSH	_mousefifo
   346 0000042B E8 [00000000]                   	CALL	_fifo8_get
   347 00000430 89 C3                           	MOV	EBX,EAX
   348 00000432 E8 [00000000]                   	CALL	_io_sti
   349 00000437 0F B6 C3                        	MOVZX	EAX,BL
   350 0000043A 50                              	PUSH	EAX
   351 0000043B 8D 85 FFFFFE04                  	LEA	EAX,DWORD [-508+EBP]
   352 00000441 50                              	PUSH	EAX
   353 00000442 E8 [00000000]                   	CALL	_mouse_decode
   354 00000447 83 C4 0C                        	ADD	ESP,12
   355 0000044A 85 C0                           	TEST	EAX,EAX
   356 0000044C 0F 84 FFFFFEC3                  	JE	L2
   357 00000452 FF B5 FFFFFE0C                  	PUSH	DWORD [-500+EBP]
   358 00000458 FF B5 FFFFFE08                  	PUSH	DWORD [-504+EBP]
   359 0000045E 68 [0000003B]                   	PUSH	LC5
   360 00000463 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   361 00000466 53                              	PUSH	EBX
   362 00000467 E8 [00000000]                   	CALL	_sprintf
   363 0000046C 83 C4 10                        	ADD	ESP,16
   364 0000046F 8B 85 FFFFFE10                  	MOV	EAX,DWORD [-496+EBP]
   365 00000475 A9 00000001                     	TEST	EAX,1
   366 0000047A 74 04                           	JE	L11
   367 0000047C C6 45 C5 4C                     	MOV	BYTE [-59+EBP],76
   368 00000480                                 L11:
   369 00000480 A9 00000002                     	TEST	EAX,2
   370 00000485 74 04                           	JE	L12
   371 00000487 C6 45 C7 52                     	MOV	BYTE [-57+EBP],82
   372 0000048B                                 L12:
   373 0000048B 83 E0 04                        	AND	EAX,4
   374 0000048E 74 04                           	JE	L13
   375 00000490 C6 45 C6 43                     	MOV	BYTE [-58+EBP],67
   376 00000494                                 L13:
   377 00000494 6A 1F                           	PUSH	31
   378 00000496 68 00000097                     	PUSH	151
   379 0000049B 6A 10                           	PUSH	16
   380 0000049D 6A 20                           	PUSH	32
   381 0000049F 6A 0E                           	PUSH	14
   382 000004A1 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   383 000004A8 50                              	PUSH	EAX
   384 000004A9 FF B5 FFFFFCC8                  	PUSH	DWORD [-824+EBP]
   385 000004AF E8 [00000000]                   	CALL	_boxfill8
   386 000004B4 53                              	PUSH	EBX
   387 000004B5 6A 07                           	PUSH	7
   388 000004B7 6A 10                           	PUSH	16
   389 000004B9 6A 20                           	PUSH	32
   390 000004BB 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   391 000004C2 50                              	PUSH	EAX
   392 000004C3 FF B5 FFFFFCC8                  	PUSH	DWORD [-824+EBP]
   393 000004C9 E8 [00000000]                   	CALL	_putfonts8_asc
   394 000004CE 83 C4 34                        	ADD	ESP,52
   395 000004D1 6A 20                           	PUSH	32
   396 000004D3 68 00000098                     	PUSH	152
   397 000004D8 6A 10                           	PUSH	16
   398 000004DA 6A 20                           	PUSH	32
   399 000004DC FF B5 FFFFFCD4                  	PUSH	DWORD [-812+EBP]
   400 000004E2 E8 [00000000]                   	CALL	_sheet_refresh
   401 000004E7 83 C4 14                        	ADD	ESP,20
   402 000004EA 03 BD FFFFFE0C                  	ADD	EDI,DWORD [-500+EBP]
   403 000004F0 03 B5 FFFFFE08                  	ADD	ESI,DWORD [-504+EBP]
   404 000004F6 0F 88 0000009D                  	JS	L24
   405 000004FC                                 L14:
   406 000004FC 85 FF                           	TEST	EDI,EDI
   407 000004FE 0F 88 0000008E                  	JS	L25
   408 00000504                                 L15:
   409 00000504 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   410 0000050B 48                              	DEC	EAX
   411 0000050C 39 C6                           	CMP	ESI,EAX
   412 0000050E 7E 02                           	JLE	L16
   413 00000510 89 C6                           	MOV	ESI,EAX
   414 00000512                                 L16:
   415 00000512 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   416 00000519 48                              	DEC	EAX
   417 0000051A 39 C7                           	CMP	EDI,EAX
   418 0000051C 7E 02                           	JLE	L17
   419 0000051E 89 C7                           	MOV	EDI,EAX
   420 00000520                                 L17:
   421 00000520 57                              	PUSH	EDI
   422 00000521 56                              	PUSH	ESI
   423 00000522 68 [00000008]                   	PUSH	LC1
   424 00000527 53                              	PUSH	EBX
   425 00000528 E8 [00000000]                   	CALL	_sprintf
   426 0000052D 6A 0F                           	PUSH	15
   427 0000052F 6A 4F                           	PUSH	79
   428 00000531 6A 00                           	PUSH	0
   429 00000533 6A 00                           	PUSH	0
   430 00000535 6A 0E                           	PUSH	14
   431 00000537 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   432 0000053E 50                              	PUSH	EAX
   433 0000053F FF B5 FFFFFCC8                  	PUSH	DWORD [-824+EBP]
   434 00000545 E8 [00000000]                   	CALL	_boxfill8
   435 0000054A 83 C4 2C                        	ADD	ESP,44
   436 0000054D 53                              	PUSH	EBX
   437 0000054E 6A 07                           	PUSH	7
   438 00000550 6A 00                           	PUSH	0
   439 00000552 6A 00                           	PUSH	0
   440 00000554 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   441 0000055B 50                              	PUSH	EAX
   442 0000055C FF B5 FFFFFCC8                  	PUSH	DWORD [-824+EBP]
   443 00000562 E8 [00000000]                   	CALL	_putfonts8_asc
   444 00000567 6A 10                           	PUSH	16
   445 00000569 6A 50                           	PUSH	80
   446 0000056B 6A 00                           	PUSH	0
   447 0000056D 6A 00                           	PUSH	0
   448 0000056F FF B5 FFFFFCD4                  	PUSH	DWORD [-812+EBP]
   449 00000575 E8 [00000000]                   	CALL	_sheet_refresh
   450 0000057A 83 C4 2C                        	ADD	ESP,44
   451 0000057D 57                              	PUSH	EDI
   452 0000057E 56                              	PUSH	ESI
   453 0000057F FF B5 FFFFFCD0                  	PUSH	DWORD [-816+EBP]
   454 00000585 E8 [00000000]                   	CALL	_sheet_slide
   455 0000058A 83 C4 0C                        	ADD	ESP,12
   456 0000058D E9 FFFFFD83                     	JMP	L2
   457 00000592                                 L25:
   458 00000592 31 FF                           	XOR	EDI,EDI
   459 00000594 E9 FFFFFF6B                     	JMP	L15
   460 00000599                                 L24:
   461 00000599 31 F6                           	XOR	ESI,ESI
   462 0000059B E9 FFFFFF5C                     	JMP	L14
   463 000005A0                                 L22:
   464 000005A0 68 [00000000]                   	PUSH	_keyfifo
   465 000005A5 E8 [00000000]                   	CALL	_fifo8_get
   466 000005AA 89 C3                           	MOV	EBX,EAX
   467 000005AC E8 [00000000]                   	CALL	_io_sti
   468 000005B1 53                              	PUSH	EBX
   469 000005B2 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   470 000005B5 68 [00000049]                   	PUSH	LC4
   471 000005BA 53                              	PUSH	EBX
   472 000005BB E8 [00000000]                   	CALL	_sprintf
   473 000005C0 6A 1F                           	PUSH	31
   474 000005C2 6A 0F                           	PUSH	15
   475 000005C4 6A 10                           	PUSH	16
   476 000005C6 6A 00                           	PUSH	0
   477 000005C8 6A 0E                           	PUSH	14
   478 000005CA 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   479 000005D1 50                              	PUSH	EAX
   480 000005D2 FF B5 FFFFFCC8                  	PUSH	DWORD [-824+EBP]
   481 000005D8 E8 [00000000]                   	CALL	_boxfill8
   482 000005DD 83 C4 2C                        	ADD	ESP,44
   483 000005E0 53                              	PUSH	EBX
   484 000005E1 6A 07                           	PUSH	7
   485 000005E3 6A 10                           	PUSH	16
   486 000005E5 6A 00                           	PUSH	0
   487 000005E7 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   488 000005EE 50                              	PUSH	EAX
   489 000005EF FF B5 FFFFFCC8                  	PUSH	DWORD [-824+EBP]
   490 000005F5 E8 [00000000]                   	CALL	_putfonts8_asc
   491 000005FA 6A 20                           	PUSH	32
   492 000005FC 6A 10                           	PUSH	16
   493 000005FE 6A 10                           	PUSH	16
   494 00000600 E9 FFFFFD00                     	JMP	L20
   495 00000605                                 L21:
   496 00000605 E8 [00000000]                   	CALL	_io_sti
   497 0000060A E9 FFFFFD06                     	JMP	L2
   498                                          [SECTION .data]
   499 0000004E                                 _closebtn.0:
   500 0000004E 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOOO@"
       00000058 4F 4F 4F 4F 4F 40 
   501 0000005E 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       00000068 51 51 51 51 24 40 
   502 0000006E 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       00000078 51 51 51 51 24 40 
   503 0000007E 4F 51 51 51 40 40 51 51 51 51   	DB	"OQQQ@@QQQQ@@QQ$@"
       00000088 40 40 51 51 24 40 
   504 0000008E 4F 51 51 51 51 40 40 51 51 40   	DB	"OQQQQ@@QQ@@QQQ$@"
       00000098 40 51 51 51 24 40 
   505 0000009E 4F 51 51 51 51 51 40 40 40 40   	DB	"OQQQQQ@@@@QQQQ$@"
       000000A8 51 51 51 51 24 40 
   506 000000AE 4F 51 51 51 51 51 51 40 40 51   	DB	"OQQQQQQ@@QQQQQ$@"
       000000B8 51 51 51 51 24 40 
   507 000000BE 4F 51 51 51 51 51 40 40 40 40   	DB	"OQQQQQ@@@@QQQQ$@"
       000000C8 51 51 51 51 24 40 
   508 000000CE 4F 51 51 51 51 40 40 51 51 40   	DB	"OQQQQ@@QQ@@QQQ$@"
       000000D8 40 51 51 51 24 40 
   509 000000DE 4F 51 51 51 40 40 51 51 51 51   	DB	"OQQQ@@QQQQ@@QQ$@"
       000000E8 40 40 51 51 24 40 
   510 000000EE 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       000000F8 51 51 51 51 24 40 
   511 000000FE 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       00000108 51 51 51 51 24 40 
   512 0000010E 4F 24 24 24 24 24 24 24 24 24   	DB	"O$$$$$$$$$$$$$$@"
       00000118 24 24 24 24 24 40 
   513 0000011E 40 40 40 40 40 40 40 40 40 40   	DB	"@@@@@@@@@@@@@@@@"
       00000128 40 40 40 40 40 40 
   514                                          [SECTION .text]
   515 0000060F                                 	GLOBAL	_make_window8
   516 0000060F                                 _make_window8:
   517 0000060F 55                              	PUSH	EBP
   518 00000610 89 E5                           	MOV	EBP,ESP
   519 00000612 57                              	PUSH	EDI
   520 00000613 56                              	PUSH	ESI
   521 00000614 53                              	PUSH	EBX
   522 00000615 83 EC 14                        	SUB	ESP,20
   523 00000618 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   524 0000061B 6A 00                           	PUSH	0
   525 0000061D 8D 43 FF                        	LEA	EAX,DWORD [-1+EBX]
   526 00000620 8D 7B FE                        	LEA	EDI,DWORD [-2+EBX]
   527 00000623 50                              	PUSH	EAX
   528 00000624 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   529 00000627 6A 00                           	PUSH	0
   530 00000629 6A 00                           	PUSH	0
   531 0000062B 6A 08                           	PUSH	8
   532 0000062D 53                              	PUSH	EBX
   533 0000062E FF 75 08                        	PUSH	DWORD [8+EBP]
   534 00000631 E8 [00000000]                   	CALL	_boxfill8
   535 00000636 6A 01                           	PUSH	1
   536 00000638 57                              	PUSH	EDI
   537 00000639 6A 01                           	PUSH	1
   538 0000063B 6A 01                           	PUSH	1
   539 0000063D 6A 07                           	PUSH	7
   540 0000063F 53                              	PUSH	EBX
   541 00000640 FF 75 08                        	PUSH	DWORD [8+EBP]
   542 00000643 E8 [00000000]                   	CALL	_boxfill8
   543 00000648 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   544 0000064B 83 C4 38                        	ADD	ESP,56
   545 0000064E 4A                              	DEC	EDX
   546 0000064F 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
   547 00000652 52                              	PUSH	EDX
   548 00000653 6A 00                           	PUSH	0
   549 00000655 6A 00                           	PUSH	0
   550 00000657 6A 00                           	PUSH	0
   551 00000659 6A 08                           	PUSH	8
   552 0000065B 53                              	PUSH	EBX
   553 0000065C FF 75 08                        	PUSH	DWORD [8+EBP]
   554 0000065F E8 [00000000]                   	CALL	_boxfill8
   555 00000664 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   556 00000667 83 EE 02                        	SUB	ESI,2
   557 0000066A 56                              	PUSH	ESI
   558 0000066B 6A 01                           	PUSH	1
   559 0000066D 6A 01                           	PUSH	1
   560 0000066F 6A 01                           	PUSH	1
   561 00000671 6A 07                           	PUSH	7
   562 00000673 53                              	PUSH	EBX
   563 00000674 FF 75 08                        	PUSH	DWORD [8+EBP]
   564 00000677 E8 [00000000]                   	CALL	_boxfill8
   565 0000067C 83 C4 38                        	ADD	ESP,56
   566 0000067F 56                              	PUSH	ESI
   567 00000680 57                              	PUSH	EDI
   568 00000681 6A 01                           	PUSH	1
   569 00000683 57                              	PUSH	EDI
   570 00000684 6A 0F                           	PUSH	15
   571 00000686 53                              	PUSH	EBX
   572 00000687 FF 75 08                        	PUSH	DWORD [8+EBP]
   573 0000068A E8 [00000000]                   	CALL	_boxfill8
   574 0000068F FF 75 E8                        	PUSH	DWORD [-24+EBP]
   575 00000692 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   576 00000695 6A 00                           	PUSH	0
   577 00000697 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   578 0000069A 6A 00                           	PUSH	0
   579 0000069C 53                              	PUSH	EBX
   580 0000069D FF 75 08                        	PUSH	DWORD [8+EBP]
   581 000006A0 E8 [00000000]                   	CALL	_boxfill8
   582 000006A5 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   583 000006A8 83 C4 38                        	ADD	ESP,56
   584 000006AB 83 E8 03                        	SUB	EAX,3
   585 000006AE 50                              	PUSH	EAX
   586 000006AF 8D 43 FD                        	LEA	EAX,DWORD [-3+EBX]
   587 000006B2 50                              	PUSH	EAX
   588 000006B3 6A 02                           	PUSH	2
   589 000006B5 6A 02                           	PUSH	2
   590 000006B7 6A 08                           	PUSH	8
   591 000006B9 53                              	PUSH	EBX
   592 000006BA FF 75 08                        	PUSH	DWORD [8+EBP]
   593 000006BD E8 [00000000]                   	CALL	_boxfill8
   594 000006C2 8D 43 FC                        	LEA	EAX,DWORD [-4+EBX]
   595 000006C5 6A 14                           	PUSH	20
   596 000006C7 50                              	PUSH	EAX
   597 000006C8 6A 03                           	PUSH	3
   598 000006CA 6A 03                           	PUSH	3
   599 000006CC 6A 0C                           	PUSH	12
   600 000006CE 53                              	PUSH	EBX
   601 000006CF FF 75 08                        	PUSH	DWORD [8+EBP]
   602 000006D2 E8 [00000000]                   	CALL	_boxfill8
   603 000006D7 83 C4 38                        	ADD	ESP,56
   604 000006DA 56                              	PUSH	ESI
   605 000006DB 57                              	PUSH	EDI
   606 000006DC 56                              	PUSH	ESI
   607 000006DD 6A 01                           	PUSH	1
   608 000006DF 6A 0F                           	PUSH	15
   609 000006E1 53                              	PUSH	EBX
   610 000006E2 FF 75 08                        	PUSH	DWORD [8+EBP]
   611 000006E5 E8 [00000000]                   	CALL	_boxfill8
   612 000006EA FF 75 E8                        	PUSH	DWORD [-24+EBP]
   613 000006ED FF 75 EC                        	PUSH	DWORD [-20+EBP]
   614 000006F0 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   615 000006F3 6A 00                           	PUSH	0
   616 000006F5 6A 00                           	PUSH	0
   617 000006F7 6B F3 05                        	IMUL	ESI,EBX,5
   618 000006FA 53                              	PUSH	EBX
   619 000006FB FF 75 08                        	PUSH	DWORD [8+EBP]
   620 000006FE E8 [00000000]                   	CALL	_boxfill8
   621 00000703 83 C4 38                        	ADD	ESP,56
   622 00000706 FF 75 14                        	PUSH	DWORD [20+EBP]
   623 00000709 6A 07                           	PUSH	7
   624 0000070B 6A 04                           	PUSH	4
   625 0000070D 6A 18                           	PUSH	24
   626 0000070F 53                              	PUSH	EBX
   627 00000710 FF 75 08                        	PUSH	DWORD [8+EBP]
   628 00000713 E8 [00000000]                   	CALL	_putfonts8_asc
   629 00000718 83 C4 18                        	ADD	ESP,24
   630 0000071B C7 45 F0 00000000               	MOV	DWORD [-16+EBP],0
   631 00000722 C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   632 00000729                                 L42:
   633 00000729 8D 04 1E                        	LEA	EAX,DWORD [ESI+EBX*1]
   634 0000072C 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   635 0000072F 31 FF                           	XOR	EDI,EDI
   636 00000731 8D 4C 02 EB                     	LEA	ECX,DWORD [-21+EDX+EAX*1]
   637 00000735                                 L41:
   638 00000735 8B 45 E0                        	MOV	EAX,DWORD [-32+EBP]
   639 00000738 8A 94 07 [0000004E]             	MOV	DL,BYTE [_closebtn.0+EDI+EAX*1]
   640 0000073F 80 FA 40                        	CMP	DL,64
   641 00000742 74 33                           	JE	L47
   642 00000744 80 FA 24                        	CMP	DL,36
   643 00000747 74 2A                           	JE	L48
   644 00000749 80 FA 51                        	CMP	DL,81
   645 0000074C B2 08                           	MOV	DL,8
   646 0000074E 0F 95 C0                        	SETNE	AL
   647 00000751 28 C2                           	SUB	DL,AL
   648 00000753                                 L36:
   649 00000753 47                              	INC	EDI
   650 00000754 88 11                           	MOV	BYTE [ECX],DL
   651 00000756 41                              	INC	ECX
   652 00000757 83 FF 0F                        	CMP	EDI,15
   653 0000075A 7E D9                           	JLE	L41
   654 0000075C FF 45 F0                        	INC	DWORD [-16+EBP]
   655 0000075F 01 DE                           	ADD	ESI,EBX
   656 00000761 83 45 E0 10                     	ADD	DWORD [-32+EBP],16
   657 00000765 83 7D F0 0D                     	CMP	DWORD [-16+EBP],13
   658 00000769 7E BE                           	JLE	L42
   659 0000076B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   660 0000076E 5B                              	POP	EBX
   661 0000076F 5E                              	POP	ESI
   662 00000770 5F                              	POP	EDI
   663 00000771 5D                              	POP	EBP
   664 00000772 C3                              	RET
   665 00000773                                 L48:
   666 00000773 B2 0F                           	MOV	DL,15
   667 00000775 EB DC                           	JMP	L36
   668 00000777                                 L47:
   669 00000777 31 D2                           	XOR	EDX,EDX
   670 00000779 EB D8                           	JMP	L36
